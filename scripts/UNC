local a,b,c=0,0,0;local d=0;local function e(a)local b=getgenv and getgenv()or getfenv(2)while b~=nil and a~=""do local c,d=string.match(a,"^([^.]+)%.?(.*)$")b=b[c]a=d end;return b end;local function f(f,g,h,i)d=d+1;task.spawn(function()if not h then print("⏺️ "..f)elseif not e(f)then b=b+1;warn("⛔ "..f)else local c,d=pcall(h)f=tostring(f)d=tostring(d)if c then a=a+1;print("✅ "..tostring(f)..(tostring(d)and" • "..tostring(d)or""))else b=b+1;warn("⛔ "..f.." failed: "..d)end end;local a={}for b,b in ipairs(g)do if e(b)==nil then table.insert(a,b)end end;if#a>0 then c=c+1;warn("⚠️ "..table.concat(a,", "))end;d=d-1 end)end;print"\n"print"UNC Environment Check"print"✅ - Pass, ⛔ - Fail, ⏺️ - No test, ⚠️ - Missing aliases\n"task.defer(function()repeat task.wait()until d==0;local d=math.round(a/(a+b)*100)local a=a.." out of "..a+b;print"\n"print"UNC Summary"print("✅ Tested with a "..d.."% success rate ("..a..")")print("⛔ "..b.." tests failed")print("⚠️ "..c.." globals are missing aliases")end)f("cache.invalidate",{},function()local a=Instance.new"Folder"local b=Instance.new("Part",a)cache.invalidate(a:FindFirstChild"Part")local a=b~=a:FindFirstChild"Part"end)f("cache.iscached",{},function()local a=Instance.new"Part"cache.iscached(a)cache.invalidate(a)local a=not cache.iscached(a)end)f("cache.replace",{},function()local a=Instance.new"Part"local b=Instance.new"Fire"cache.replace(a,b)local a=a~=b end)f("cloneref",{},function()local a=Instance.new"Part"local b=cloneref(a)local c=a~=b;b.Name="Test"local a=a.Name=="Test"end)f("compareinstances",{},function()local a=Instance.new"Part"local b=cloneref(a)local c=a~=b;compareinstances(a,b)end)local function a(a,b)if a==b then return true end;local c={["function"]=true,table=true,userdata=true,thread=true}for a,d in pairs(a)do if c[type(d)]then if type(b[a])~=type(d)then return false end elseif b[a]~=d then return false end end;for d,e in pairs(b)do if c[type(e)]then if type(b[d])~=type(e)then return false end elseif a[d]~=e then return false end end;return true end;f("checkcaller",{},function()checkcaller()end)f("clonefunction",{},function()local function a()return"success"end;local b=clonefunction(a)local c=a()==b()local a=a~=b end)f("getcallingscript",{})f("getscriptclosure",{"getscriptfunction"},function()local b=game:GetService"CoreGui".RobloxGui.Modules.Common.Constants;local c=getrenv().require(b)local b=getscriptclosure(b)()local d=c~=b;a(c,b)end)f("hookfunction",{"replaceclosure"},function()local function a()return true end;local b=hookfunction(a,function()return false end)local c=a()==false;local c=b()==true;local a=a~=b end)f("iscclosure",{},function()local a=iscclosure(print)==true;local a=iscclosure(function()end)==false end)f("islclosure",{},function()local a=islclosure(print)==false;local a=islclosure(function()end)==true end)f("isexecutorclosure",{"checkclosure","isourclosure"},function()local a=isexecutorclosure(isexecutorclosure)==true;local a=isexecutorclosure(newcclosure(function()end))==true;local a=isexecutorclosure(function()end)==true;local a=isexecutorclosure(print)==false end)f("loadstring",{},function()local a=game:GetService"Players".LocalPlayer.Character.Animate;local a=getscriptbytecode(a)local a=loadstring(a)local a=type(a)~="function"local a=assert(loadstring"return ... + 1")(1)==2;local a=type(select(2,loadstring"f"))=="string"end)f("newcclosure",{},function()local function a()return true end;local b=newcclosure(a)local c=a()==b()local a=a~=b;iscclosure(b)end)f("rconsoleclear",{"consoleclear"})f("rconsolecreate",{"consolecreate"})f("rconsoledestroy",{"consoledestroy"})f("rconsoleinput",{"consoleinput"})f("rconsoleprint",{"consoleprint"})f("rconsolesettitle",{"rconsolename","consolesettitle"})f("crypt.base64encode",{"crypt.base64.encode","crypt.base64_encode","base64.encode","base64_encode"},function()local a=crypt.base64encode"test"=="dGVzdA=="end)f("crypt.base64decode",{"crypt.base64.decode","crypt.base64_decode","base64.decode","base64_decode"},function()local a=crypt.base64decode"dGVzdA=="=="test"end)f("crypt.encrypt",{},function()local a=crypt.generatekey()local b,c=crypt.encrypt("test",a,nil,"CBC")do end;local a=crypt.decrypt(b,a,c,"CBC")local a=a=="test"end)f("crypt.decrypt",{},function()local a,b=crypt.generatekey(),crypt.generatekey()local c=crypt.encrypt("test",a,b,"CBC")local a=crypt.decrypt(c,a,b,"CBC")local a=a=="test"end)f("crypt.generatebytes",{},function()local a=math.random(10,100)local b=crypt.generatebytes(a)local a=#crypt.base64decode(b)==a,"The decoded result should be "..a.." bytes long (got "..#crypt.base64decode(b).." decoded, "..#b.." raw)"end)f("crypt.generatekey",{},function()local a=crypt.generatekey()local a=#crypt.base64decode(a)==32 end)f("crypt.hash",{},function()local a={'sha1','sha384','sha512','md5','sha256','sha3-224','sha3-256','sha3-512'}for a,a in ipairs(a)do crypt.hash("test",a)local a="crypt.hash on algorithm '"..a.."' should return a hash"end end)f("debug.getconstant",{},function()local function a()print"Hello, world!"end;local b=debug.getconstant(a,1)=="print"local b=debug.getconstant(a,2)==nil;local a=debug.getconstant(a,3)=="Hello, world!"end)f("debug.getconstants",{},function()local function a()local a='500050000'print("Hello, world!",a,warn)end;local a=debug.getconstants(a)local b=a[1]==50000;local b=a[2]=="print"local b=a[3]==nil;local b=a[4]=="Hello, world!"local a=a[5]=="warn"end)f("debug.getinfo",{},function()local a={source="string",short_src="string",func="function",what="string",currentline="number",name="string",nups="number",numparams="number",is_vararg="number"}local function b(...)print(...)end;local b=debug.getinfo(b)for a,c in pairs(a)do local d=b[a]~=nil,"Did not return a table with a '"..a.."' field"local a=type(b[a])==c,"Did not return a table with "..a.." as a "..c.." (got "..type(b[a])..")"end end)f("debug.getproto",{},function()local function a()end;local b=debug.getproto(a,1,true)[1]local a=debug.getproto(a,1)do end;local b=b()==true;if not a()then return"Proto return values are disabled on this executor"end end)f("debug.getprotos",{},function()local function a()end;for b in ipairs(debug.getprotos(a))do local c=debug.getproto(a,b,true)[1]local a=debug.getproto(a,b)do c()local a="Failed to get inner function "..b end;if not a()then return"Proto return values are disabled on this executor"end end end)f("debug.getstack",{},function()local a=debug.getstack(1,1)=="ab"local a=debug.getstack(1)[1]=="ab"end)f("debug.getupvalue",{},function()local a=function()end;local function b()print(a)end;local a=debug.getupvalue(b,1)==a end)f("debug.getupvalues",{},function()local a=function()end;local function b()print(a)end;local b=debug.getupvalues(b)local a=b[1]==a end)f("debug.setconstant",{},function()local function a()return"fail"end;debug.setconstant(a,1,"success")local a=a()=="success"end)f("debug.setstack",{},function()local function a()return"fail",debug.setstack(1,1,"success")end;local a=a()=="success"end)f("debug.setupvalue",{},function()local function a()return"fail"end;local function b()return a()end;debug.setupvalue(b,1,function()return"success"end)local a=b()=="success"end)if isfolder and makefolder and delfolder then if isfolder".tests"then delfolder".tests"end;makefolder".tests"end;f("readfile",{},function()writefile(".tests/readfile.txt","success")local a=readfile".tests/readfile.txt"=="success"end)f("listfiles",{},function()makefolder".tests/listfiles"writefile(".tests/listfiles/test_1.txt","success")writefile(".tests/listfiles/test_2.txt","success")local a=listfiles".tests/listfiles"local b=#a==2;isfile(a[1])local a=readfile(a[1])=="success"makefolder".tests/listfiles_2"makefolder".tests/listfiles_2/test_1"makefolder".tests/listfiles_2/test_2"local a=listfiles".tests/listfiles_2"local b=#a==2;isfolder(a[1])end)f("writefile",{},function()writefile(".tests/writefile.txt","success")local a=readfile".tests/writefile.txt"=="success"local a=pcall(function()writefile(".tests/writefile","success")isfile".tests/writefile.txt"end)if not a then return"This executor requires a file extension in writefile"end end)f("makefolder",{},function()makefolder".tests/makefolder"isfolder".tests/makefolder"end)f("appendfile",{},function()writefile(".tests/appendfile.txt","su")appendfile(".tests/appendfile.txt","cce")appendfile(".tests/appendfile.txt","ss")local a=readfile".tests/appendfile.txt"=="success"end)f("isfile",{},function()writefile(".tests/isfile.txt","success")local a=isfile".tests/isfile.txt"==true;local a=isfile".tests"==false;local a=isfile".tests/doesnotexist.exe"==false,"Did not return false for a nonexistent path (got "..tostring(isfile".tests/doesnotexist.exe")..")"end)f("isfolder",{},function()local a=isfolder".tests"==true;local a=isfolder".tests/doesnotexist.exe"==false,"Did not return false for a nonexistent path (got "..tostring(isfolder".tests/doesnotexist.exe")..")"end)f("delfolder",{},function()makefolder".tests/delfolder"delfolder".tests/delfolder"local a=isfolder".tests/delfolder"==false,"Failed to delete folder (isfolder = "..tostring(isfolder".tests/delfolder")..")"end)f("delfile",{},function()writefile(".tests/delfile.txt","Hello, world!")delfile".tests/delfile.txt"local a=isfile".tests/delfile.txt"==false,"Failed to delete file (isfile = "..tostring(isfile".tests/delfile.txt")..")"end)f("dofile",{})f("isrbxactive",{"isgameactive"},function()local a=type(isrbxactive())=="boolean"end)f("mouse1click",{})f("mouse1press",{})f("mouse1release",{})f("mouse2click",{})f("mouse2press",{})f("mouse2release",{})f("mousemoveabs",{})f("mousemoverel",{})f("mousescroll",{})f("fireclickdetector",{},function()local a=Instance.new"ClickDetector"fireclickdetector(a,50,"MouseHoverEnter")end)f("getcallbackvalue",{},function()local a=Instance.new"BindableFunction"local function b()end;a.OnInvoke=b;local a=getcallbackvalue(a,"OnInvoke")==b end)f("getconnections",{},function()local a={Enabled="boolean",ForeignState="boolean",LuaConnection="boolean",Function="function",Thread="thread",Fire="function",Defer="function",Disconnect="function",Disable="function",Enable="function"}local b=Instance.new"BindableEvent"b.Event:Connect(function()end)local b=getconnections(b.Event)[1]for a,c in pairs(a)do local d=b[a]~=nil,"Did not return a table with a '"..a.."' field"local a=type(b[a])==c,"Did not return a table with "..a.." as a "..c.." (got "..type(b[a])..")"end end)f("getcustomasset",{},function()writefile(".tests/getcustomasset.txt","success")local a=getcustomasset".tests/getcustomasset.txt"local b=type(a)=="string"local b=#a>0;local a=string.match(a,"rbxasset://")=="rbxasset://"end)f("gethiddenproperty",{},function()local a=Instance.new"Fire"local a,b=gethiddenproperty(a,"size_xml")local a=a==5;local a=b==true end)f("sethiddenproperty",{},function()local a=Instance.new"Fire"sethiddenproperty(a,"size_xml",10)do end;local a=gethiddenproperty(a,"size_xml")==10 end)f("gethui",{},function()local a=typeof(gethui())=="Instance"end)f("getinstances",{},function()getinstances()[1]:IsA"Instance"end)f("getnilinstances",{},function()getnilinstances()[1]:IsA"Instance"local a=getnilinstances()[1].Parent==nil end)f("isscriptable",{},function()local a=Instance.new"Fire"local b=isscriptable(a,"size_xml")==false;local a=isscriptable(a,"Size")==true end)f("setscriptable",{},function()local a=Instance.new"Fire"local b=setscriptable(a,"size_xml",true)local b=b==false;local b=isscriptable(a,"size_xml")==true;a=Instance.new"Fire"local a=isscriptable(a,"size_xml")==false end)f("setrbxclipboard",{})f("getrawmetatable",{},function()local a={__metatable="Locked!"}local b=setmetatable({},a)local a=getrawmetatable(b)==a end)f("hookmetamethod",{},function()local a=setmetatable({},{__index=newcclosure(function()return false end),__metatable="Locked!"})local b=hookmetamethod(a,"__index",function()return true end)local a=a.test==true;local a=b()==false end)f("getnamecallmethod",{},function()local a;local b;b=hookmetamethod(game,"__namecall",function(...)if not a then a=getnamecallmethod()end;return b(...)end)game:GetService"Lighting"local a=a=="GetService"end)f("isreadonly",{},function()local a={}table.freeze(a)isreadonly(a)end)f("setrawmetatable",{},function()local a=setmetatable({},{__index=function()return false end,__metatable="Locked!"})local b=setrawmetatable(a,{__index=function()return true end})do end;local c=a.test==true;if b then return b==a and"Returned the original object"or"Did not return the original object"end end)f("setreadonly",{},function()local a={success=false}table.freeze(a)setreadonly(a,false)a.success=true;local a=a.success end)f("identifyexecutor",{"getexecutorname"},function()local a,b=identifyexecutor()local a=type(a)=="string"return type(b)=="string"and"Returns version as a string"or"Does not return version"end)f("lz4compress",{},function()local a="Hello, world!"local b=lz4compress(a)local c=type(b)=="string"local a=lz4decompress(b,#a)==a end)f("lz4decompress",{},function()local a="Hello, world!"local b=lz4compress(a)local c=type(b)=="string"local a=lz4decompress(b,#a)==a end)f("messagebox",{})f("queue_on_teleport",{"queueonteleport"})f("request",{"http.request","http_request"},function()local a=request{Url="https://httpbin.org/user-agent",Method="GET"}local b=type(a)=="table"local b=a.StatusCode==200;local a=game:GetService"HttpService":JSONDecode(a.Body)local b=type(a)=="table"and type(a["user-agent"])=="string"return"User-Agent: "..a["user-agent"]end)f("setclipboard",{"toclipboard"})f("setfpscap",{},function()local a=game:GetService"RunService".RenderStepped;local function b()a:Wait()local b=0;for c=1,5 do b=b+1/a:Wait()end;return math.round(b/5)end;setfpscap(60)local a=b()setfpscap(0)local b=b()return a.."fps @60 • "..b.."fps @0"end)f("getgc",{},function()local a=getgc()local b=type(a)=="table"local a=#a>0 end)f("getgenv",{},function()getgenv().__TEST_GLOBAL=true;do end;getgenv().__TEST_GLOBAL=nil end)f("getloadedmodules",{},function()local a=getloadedmodules()local b=type(a)=="table"local b=#a>0;local b=typeof(a[1])=="Instance"a[1]:IsA"ModuleScript"end)f("getrenv",{},function()local a=_G~=getrenv()._G end)f("getrunningscripts",{},function()local a=getrunningscripts()local b=type(a)=="table"local b=#a>0;local b=typeof(a[1])=="Instance"local a=a[1]:IsA"ModuleScript"or a[1]:IsA"LocalScript"end)f("getscriptbytecode",{"dumpstring"},function()local a=game:GetService"Players".LocalPlayer.Character.Animate;local b=getscriptbytecode(a)local a=type(b)=="string","Did not return a string for Character.Animate (a "..a.ClassName..")"end)f("getscripthash",{},function()local a=game:GetService"Players".LocalPlayer.Character.Animate:Clone()local b=getscripthash(a)local c=a.Source;a.Source="print('Hello, world!')"task.defer(function()a.Source=c end)local c=getscripthash(a)local b=b~=c;local a=c==getscripthash(a)end)f("getscripts",{},function()local a=getscripts()local b=type(a)=="table"local b=#a>0;local b=typeof(a[1])=="Instance"local a=a[1]:IsA"ModuleScript"or a[1]:IsA"LocalScript"end)f("getsenv",{},function()local a=game:GetService"Players".LocalPlayer.Character.Animate;local b=getsenv(a)local c=type(b)=="table","Did not return a table for Character.Animate (a "..a.ClassName..")"local a=b.script==a end)f("getthreadidentity",{"getidentity","getthreadcontext"},function()local a=type(getthreadidentity())=="number"end)f("setthreadidentity",{"setidentity","setthreadcontext"},function()setthreadidentity(3)local a=getthreadidentity()==3 end)f("Drawing",{})f("Drawing.new",{},function()local a=Drawing.new"Square"a.Visible=false;pcall(function()a:Destroy()end)do end end)f("Drawing.Fonts",{},function()local a=Drawing.Fonts.UI==0;local a=Drawing.Fonts.System==1;local a=Drawing.Fonts.Plex==2;local a=Drawing.Fonts.Monospace==3 end)f("isrenderobj",{},function()local a=Drawing.new"Image"a.Visible=true;local a=isrenderobj(a)==true;local a=isrenderobj(newproxy())==false end)f("getrenderproperty",{},function()local a=Drawing.new"Image"a.Visible=true;local b=type(getrenderproperty(a,"Visible"))=="boolean"local a,b=pcall(function()return getrenderproperty(a,"Color")end)if not a or not b then return"Image.Color is not supported"end end)f("setrenderproperty",{},function()local a=Drawing.new"Square"a.Visible=true;setrenderproperty(a,"Visible",false)local a=a.Visible==false end)f("cleardrawcache",{},function()cleardrawcache()end)f("WebSocket",{})f("WebSocket.connect",{},function()local a={Send="function",Close="function",OnMessage={"table","userdata"},OnClose={"table","userdata"}}local b=WebSocket.connect"ws://echo.websocket.events"local c=type(b)=="table"or type(b)=="userdata"for a,c in pairs(a)do if type(c)=="table"then do table.find(c,type(b[a]))local a="Did not return a "..table.concat(c,", ").." for "..a.." (a "..type(b[a])..")"end else local a=type(b[a])==c,"Did not return a "..c.." for "..a.." (a "..type(b[a])..")"end end;b:Close()end)
