local a={windowcount=0}local b={}local c={}do local a=game:GetService("Players").LocalPlayer:GetMouse()local d=game:GetService('UserInputService')local e=game:GetService("RunService").Heartbeat;function b.new(b)local c,f=pcall(function()return b.MouseEnter end)if c then b.Active=true;f:connect(function()local a=b.InputBegan:connect(function(c)if c.UserInputType==Enum.UserInputType.MouseButton1 or c.UserInputType==Enum.UserInputType.Touch then local c=Vector2.new(a.X-b.AbsolutePosition.X,a.Y-b.AbsolutePosition.Y)while e:wait()and d:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)do b:TweenPosition(UDim2.new(0,a.X-c.X+b.Size.X.Offset*b.AnchorPoint.X,0,a.Y-c.Y+b.Size.Y.Offset*b.AnchorPoint.Y),'Out','Quad',0.1,true)end end end)local c;c=b.MouseLeave:connect(function()a:disconnect()c:disconnect()end)end)end end;function c.new(a,b)a:GetPropertyChangedSignal('AbsoluteSize'):connect(function()b.Size=UDim2.new(b.Size.X.Scale,b.Size.X.Offset,b.Size.Y.Scale,a.AbsoluteSize.Y)end)end end;local d={txtcolor=Color3.fromRGB(255,255,255),underline=Color3.fromRGB(0,255,140),barcolor=Color3.fromRGB(40,40,40),bgcolor=Color3.fromRGB(30,30,30)}function a:Create(a,b)local a=Instance.new(a)for b,c in next,b do if b~="Parent"then a[b]=c end end;a.Parent=b.Parent;return a end;function a:CreateWindow(e)assert(e.text,"no name")local f={count=0,toggles={},closed=false}local e=e or{}setmetatable(e,{__index=d})self.windowcount=self.windowcount+1;a.gui=a.gui or self:Create("ScreenGui",{Name="UILibrary",Parent=game:GetService("CoreGui")})f.frame=self:Create("Frame",{Name=e.text,Parent=self.gui,Active=true,BackgroundTransparency=0,Size=UDim2.new(0,190,0,30),Position=UDim2.new(0,15+200*self.windowcount-200,0,15),BackgroundColor3=e.barcolor,BorderSizePixel=0})f.background=self:Create('Frame',{Name='Background',Parent=f.frame,BorderSizePixel=0,BackgroundColor3=e.bgcolor,Position=UDim2.new(0,0,1,0),Size=UDim2.new(1,0,0,25),ClipsDescendants=true})f.container=self:Create('Frame',{Name='Container',Parent=f.frame,BorderSizePixel=0,BackgroundColor3=e.bgcolor,Position=UDim2.new(0,0,1,0),Size=UDim2.new(1,0,0,25),ClipsDescendants=true})f.organizer=self:Create('UIListLayout',{Name='Sorter',SortOrder=Enum.SortOrder.LayoutOrder,Parent=f.container})f.padder=self:Create('UIPadding',{Name='Padding',PaddingLeft=UDim.new(0,10),PaddingTop=UDim.new(0,5),Parent=f.container})self:Create("Frame",{Name='Underline',Size=UDim2.new(1,0,0,1),Position=UDim2.new(0,0,1,-1),BorderSizePixel=0,BackgroundColor3=e.underline,Parent=f.frame})local d=self:Create("TextButton",{Name='Toggle',ZIndex=2,BackgroundTransparency=1,Position=UDim2.new(1,-25,0,0),Size=UDim2.new(0,25,1,0),Text="-",TextSize=17,TextColor3=e.txtcolor,Font=Enum.Font.FredokaOne,Parent=f.frame})d.MouseButton1Click:connect(function()f.closed=not f.closed;d.Text=f.closed and"+"or"-"if f.closed then f:Resize(true,UDim2.new(1,0,0,0))else f:Resize(true)end end)self:Create("TextLabel",{Size=UDim2.new(1,0,1,0),BackgroundTransparency=1,BorderSizePixel=0,TextColor3=e.txtcolor,TextColor3=e.bartextcolor or Color3.fromRGB(255,255,255),TextSize=17,Font=Enum.Font.FredokaOne,Text=e.text or"window",Name="Window",Parent=f.frame})do b.new(f.frame)c.new(f.background,f.container)end;local function b()local a=0;for b,b in next,f.container:GetChildren()do if not b:IsA('UIListLayout')and not b:IsA('UIPadding')then a=a+b.AbsoluteSize.Y end end;return UDim2.new(1,0,0,a+10)end;function f:Resize(a,c)local b=c or b()self.container.ClipsDescendants=true;if a then self.background:TweenSize(b,"Out","Sine",0.5,true)else self.background.Size=b end end;function f:AddToggle(b,c)self.count=self.count+1;c=c or function()end;local d=a:Create("TextLabel",{Text=b,Size=UDim2.new(1,-10,0,20),BackgroundTransparency=1,TextColor3=Color3.fromRGB(255,255,255),TextXAlignment=Enum.TextXAlignment.Left,LayoutOrder=self.Count,TextSize=14,Font=Enum.Font.FredokaOne,Parent=self.container})local a=a:Create("TextButton",{Text="OFF",TextColor3=Color3.fromRGB(255,25,25),BackgroundTransparency=1,Position=UDim2.new(1,-25,0,0),Size=UDim2.new(0,25,1,0),TextSize=17,Font=Enum.Font.FredokaOne,Parent=d})a.MouseButton1Click:connect(function()self.toggles[b]=not self.toggles[b]a.TextColor3=self.toggles[b]and Color3.fromRGB(0,255,140)or Color3.fromRGB(255,25,25)a.Text=self.toggles[b]and"ON"or"OFF"c(self.toggles[b])end)self:Resize()return a end;function f:AddBox(b,c)self.count=self.count+1;c=c or function()end;local a=a:Create("TextBox",{PlaceholderText=b,Size=UDim2.new(1,-10,0,20),BackgroundTransparency=0.75,BackgroundColor3=e.boxcolor,TextColor3=Color3.fromRGB(255,255,255),TextXAlignment=Enum.TextXAlignment.Center,TextSize=14,Text="",Font=Enum.Font.FredokaOne,LayoutOrder=self.Count,BorderSizePixel=0,Parent=self.container})a.FocusLost:connect(function(...)c(a,...)end)self:Resize()return a end;function f:AddButton(b,c)self.count=self.count+1;c=c or function()end;local a=a:Create("TextButton",{Text=b,Size=UDim2.new(1,-10,0,20),BackgroundTransparency=1,TextColor3=Color3.fromRGB(255,255,255),TextXAlignment=Enum.TextXAlignment.Left,TextSize=14,Font=Enum.Font.FredokaOne,LayoutOrder=self.Count,Parent=self.container})a.MouseButton1Click:connect(c)self:Resize()return a end;function f:AddDropdown(b,c)self.count=self.count+1;local d=b[1]or""c=c or function()end;local e=a:Create("TextLabel",{Size=UDim2.new(1,-10,0,20),BackgroundTransparency=0.75,BackgroundColor3=b.boxcolor,TextColor3=Color3.fromRGB(255,255,255),TextXAlignment=Enum.TextXAlignment.Center,TextSize=14,Text=d,Font=Enum.Font.FredokaOne,BorderSizePixel=0,LayoutOrder=self.Count,Parent=self.container})local f=a:Create("ImageButton",{BackgroundTransparency=1,Image='rbxassetid://3234893186',Size=UDim2.new(0,18,1,0),Position=UDim2.new(1,-20,0,0),Parent=e})local g;local function h(a)local b=game:GetService('UserInputService'):GetMouseLocation()local b=Vector2.new(b.X,b.Y-36)local c,d=a.AbsolutePosition.X,a.AbsolutePosition.X+a.AbsoluteSize.X;local a,e=a.AbsolutePosition.Y,a.AbsolutePosition.Y+a.AbsoluteSize.Y;return b.X>=c and b.X<=d and(b.Y>=a and b.Y<=e)end;local function i(a)local b=0;for a,a in next,a do b=b+1 end;return b end;f.MouseButton1Click:connect(function()if i(b)==0 then return end;if g then g:Destroy()g=nil end;self.container.ClipsDescendants=false;g=a:Create('Frame',{Position=UDim2.new(0,0,1,0),BackgroundColor3=Color3.fromRGB(0,255,255),Size=UDim2.new(0,e.AbsoluteSize.X,0,i(b)*21),BorderSizePixel=0,Parent=e,ClipsDescendants=true,ZIndex=2})a:Create('UIListLayout',{Name='Layout',Parent=g})for b,b in next,b do local a=a:Create('TextButton',{Text=b,BackgroundColor3=Color3.fromRGB(40,40,40),TextColor3=Color3.fromRGB(255,255,255),BorderSizePixel=0,TextSize=14,Font=Enum.Font.FredokaOne,Size=UDim2.new(1,0,0,21),Parent=g,ZIndex=2})a.MouseButton1Click:connect(function()e.Text=b;c(b)g.Size=UDim2.new(1,0,0,0)game:GetService('Debris'):AddItem(g,0.1)end)end end)game:GetService('UserInputService').InputBegan:connect(function(a)if a.UserInputType==Enum.UserInputType.MouseButton1 then if g and not h(g)then game:GetService('Debris'):AddItem(g)end end end)c(d)self:Resize()return{Refresh=function(a,a)game:GetService('Debris'):AddItem(g)b=a;e.Text=b[1]end}end;return f end;return a
