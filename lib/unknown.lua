local a={windowcount=0}local b={}local c={}do local a=game:GetService"Players".LocalPlayer:GetMouse()local d=game:GetService'UserInputService'local e=game:GetService"RunService".Heartbeat;function b.new(b)local c,f=pcall(function()return b.MouseEnter end)if c then b.Active=true;f:connect(function()local a=b.InputBegan:connect(function(c)if c.UserInputType==Enum.UserInputType.MouseButton1 or c.UserInputType==Enum.UserInputType.Touch then local c=Vector2.new(a.X-b.AbsolutePosition.X,a.Y-b.AbsolutePosition.Y)while e:wait()and d:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)do b:TweenPosition(UDim2.new(0,a.X-c.X+b.Size.X.Offset*b.AnchorPoint.X,0,a.Y-c.Y+b.Size.Y.Offset*b.AnchorPoint.Y),'Out','Quad',0.1,true)end end end)local c;c=b.MouseLeave:connect(function()a:disconnect()c:disconnect()end)end)end end;function c.new(a,b)a:GetPropertyChangedSignal'AbsoluteSize':connect(function()b.Size=UDim2.new(b.Size.X.Scale,b.Size.X.Offset,b.Size.Y.Scale,a.AbsoluteSize.Y)end)end end;local d={txtcolor=Color3.fromRGB(255,255,255),underline=Color3.fromRGB(0,255,140),barcolor=Color3.fromRGB(40,40,40),bgcolor=Color3.fromRGB(30,30,30)}function a.Create(a,a,b)local a=Instance.new(a)for b,c in next,b do if b~="Parent"then a[b]=c end end;a.Parent=b.Parent;return a end;function a.CreateWindow(e,f)local g=f.text;local g={count=0,toggles={},closed=false}local f=f or{}setmetatable(f,{__index=d})e.windowcount=e.windowcount+1;a.gui=a.gui or e:Create("ScreenGui",{Name="UILibrary",Parent=game:GetService"CoreGui"})g.frame=e:Create("Frame",{Name=f.text,Parent=e.gui,Active=true,BackgroundTransparency=0,Size=UDim2.new(0,190,0,30),Position=UDim2.new(0,15+200*e.windowcount-200,0,15),BackgroundColor3=f.barcolor,BorderSizePixel=0})g.background=e:Create('Frame',{Name='Background',Parent=g.frame,BorderSizePixel=0,BackgroundColor3=f.bgcolor,Position=UDim2.new(0,0,1,0),Size=UDim2.new(1,0,0,25),ClipsDescendants=true})g.container=e:Create('Frame',{Name='Container',Parent=g.frame,BorderSizePixel=0,BackgroundColor3=f.bgcolor,Position=UDim2.new(0,0,1,0),Size=UDim2.new(1,0,0,25),ClipsDescendants=true})g.organizer=e:Create('UIListLayout',{Name='Sorter',SortOrder=Enum.SortOrder.LayoutOrder,Parent=g.container})g.padder=e:Create('UIPadding',{Name='Padding',PaddingLeft=UDim.new(0,10),PaddingTop=UDim.new(0,5),Parent=g.container})e:Create("Frame",{Name='Underline',Size=UDim2.new(1,0,0,1),Position=UDim2.new(0,0,1,-1),BorderSizePixel=0,BackgroundColor3=f.underline,Parent=g.frame})local d=e:Create("TextButton",{Name='Toggle',ZIndex=2,BackgroundTransparency=1,Position=UDim2.new(1,-25,0,0),Size=UDim2.new(0,25,1,0),Text="-",TextSize=17,TextColor3=f.txtcolor,Font=Enum.Font.FredokaOne,Parent=g.frame})d.MouseButton1Click:connect(function()g.closed=not g.closed;d.Text=g.closed and"+"or"-"if g.closed then g:Resize(true,UDim2.new(1,0,0,0))else g:Resize(true)end end)e:Create("TextLabel",{Size=UDim2.new(1,0,1,0),BackgroundTransparency=1,BorderSizePixel=0,TextColor3=f.txtcolor,TextColor3=f.bartextcolor or Color3.fromRGB(255,255,255),TextSize=17,Font=Enum.Font.FredokaOne,Text=f.text or"window",Name="Window",Parent=g.frame})do b.new(g.frame)c.new(g.background,g.container)end;local function b()local a=0;for b,b in next,g.container:GetChildren()do if not b:IsA'UIListLayout'and not b:IsA'UIPadding'then a=a+b.AbsoluteSize.Y end end;return UDim2.new(1,0,0,a+10)end;function g.Resize(a,c,d)local b=d or b()a.container.ClipsDescendants=true;if c then a.background:TweenSize(b,"Out","Sine",0.5,true)else a.background.Size=b end end;function g.AddToggle(b,c,d)b.count=b.count+1;d=d or function()end;local e=a:Create("TextLabel",{Text=c,Size=UDim2.new(1,-10,0,20),BackgroundTransparency=1,TextColor3=Color3.fromRGB(255,255,255),TextXAlignment=Enum.TextXAlignment.Left,LayoutOrder=b.Count,TextSize=14,Font=Enum.Font.FredokaOne,Parent=b.container})local a=a:Create("TextButton",{Text="OFF",TextColor3=Color3.fromRGB(255,25,25),BackgroundTransparency=1,Position=UDim2.new(1,-25,0,0),Size=UDim2.new(0,25,1,0),TextSize=17,Font=Enum.Font.FredokaOne,Parent=e})a.MouseButton1Click:connect(function()b.toggles[c]=not b.toggles[c]a.TextColor3=b.toggles[c]and Color3.fromRGB(0,255,140)or Color3.fromRGB(255,25,25)a.Text=b.toggles[c]and"ON"or"OFF"d(b.toggles[c])end)b:Resize()return a end;function g.AddBox(b,c,d)b.count=b.count+1;d=d or function()end;local a=a:Create("TextBox",{PlaceholderText=c,Size=UDim2.new(1,-10,0,20),BackgroundTransparency=0.75,BackgroundColor3=f.boxcolor,TextColor3=Color3.fromRGB(255,255,255),TextXAlignment=Enum.TextXAlignment.Center,TextSize=14,Text="",Font=Enum.Font.FredokaOne,LayoutOrder=b.Count,BorderSizePixel=0,Parent=b.container})a.FocusLost:connect(function(...)d(a,...)end)b:Resize()return a end;function g.AddButton(b,c,d)b.count=b.count+1;d=d or function()end;local a=a:Create("TextButton",{Text=c,Size=UDim2.new(1,-10,0,20),BackgroundTransparency=1,TextColor3=Color3.fromRGB(255,255,255),TextXAlignment=Enum.TextXAlignment.Left,TextSize=14,Font=Enum.Font.FredokaOne,LayoutOrder=b.Count,Parent=b.container})a.MouseButton1Click:connect(d)b:Resize()return a end;function g.AddDropdown(b,c,d)b.count=b.count+1;local e=c[1]or""d=d or function()end;local f=a:Create("TextLabel",{Size=UDim2.new(1,-10,0,20),BackgroundTransparency=0.75,BackgroundColor3=c.boxcolor,TextColor3=Color3.fromRGB(255,255,255),TextXAlignment=Enum.TextXAlignment.Center,TextSize=14,Text=e,Font=Enum.Font.FredokaOne,BorderSizePixel=0,LayoutOrder=b.Count,Parent=b.container})local g=a:Create("ImageButton",{BackgroundTransparency=1,Image='rbxassetid://3234893186',Size=UDim2.new(0,18,1,0),Position=UDim2.new(1,-20,0,0),Parent=f})local h;local function i(a)local b=game:GetService'UserInputService':GetMouseLocation()local b=Vector2.new(b.X,b.Y-36)local c,d=a.AbsolutePosition.X,a.AbsolutePosition.X+a.AbsoluteSize.X;local a,e=a.AbsolutePosition.Y,a.AbsolutePosition.Y+a.AbsoluteSize.Y;return b.X>=c and b.X<=d and(b.Y>=a and b.Y<=e)end;local function j(a)local b=0;for a,a in next,a do b=b+1 end;return b end;g.MouseButton1Click:connect(function()if j(c)==0 then return end;if h then h:Destroy()h=nil end;b.container.ClipsDescendants=false;h=a:Create('Frame',{Position=UDim2.new(0,0,1,0),BackgroundColor3=Color3.fromRGB(0,255,255),Size=UDim2.new(0,f.AbsoluteSize.X,0,j(c)*21),BorderSizePixel=0,Parent=f,ClipsDescendants=true,ZIndex=2})a:Create('UIListLayout',{Name='Layout',Parent=h})for b,b in next,c do local a=a:Create('TextButton',{Text=b,BackgroundColor3=Color3.fromRGB(40,40,40),TextColor3=Color3.fromRGB(255,255,255),BorderSizePixel=0,TextSize=14,Font=Enum.Font.FredokaOne,Size=UDim2.new(1,0,0,21),Parent=h,ZIndex=2})a.MouseButton1Click:connect(function()f.Text=b;d(b)h.Size=UDim2.new(1,0,0,0)game:GetService'Debris':AddItem(h,0.1)end)end end)game:GetService'UserInputService'.InputBegan:connect(function(a)if a.UserInputType==Enum.UserInputType.MouseButton1 then if h and not i(h)then game:GetService'Debris':AddItem(h)end end end)d(e)b:Resize()return{Refresh=function(a,a)game:GetService'Debris':AddItem(h)c=a;f.Text=c[1]end}end;return g end;return a
